var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(n=s.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return a};import React from"react";var FormInstance=function(){var a=this;this.wire=function(e,t){a.wired[e]=t},this.unWire=function(e){delete a.store[e],delete a.wired[e]},this.onValuesChange=function(e,t){},this.getFieldsValue=function(e){return e?e.reduce(function(e,t){var r;return t in a.store?__assign(__assign({},e),((r={})[t]=a.store[t],r)):e},{}):a.store},this.getFieldValue=function(e){return a.store[e]},this.setFieldValue=function(e,t){var r,n=__assign({},a.store);a.store=__assign(__assign({},a.store),((r={})[e]=t,r)),a.wired[e].current.setValue(t),a.onValuesChange(n,a.store)},this.setFieldsValue=function(e){var t=__assign({},a.store);a.store=__assign(__assign({},a.store),e),a.initialized||(a.initialValues=a.store,a.initialized=!0),Object.entries(e).forEach(function(e){var e=__read(e,2),t=e[0],e=e[1];a.wired[t].current.setValue(e)}),a.onValuesChange&&a.onValuesChange(t,a.store)},this.resetFields=function(){var e=__assign({},a.store);a.store=__assign({},a.initialValues),Object.entries(a.wired).forEach(function(e){var e=__read(e,2),t=e[0];e[1].current.setValue(a.store[t])}),a.onValuesChange(e,a.store)},this.scrollToField=function(e){e=a.wired[e];e&&e.current.element.scrollIntoView()},this.validates=function(e,t){var i=null,s={};Object.entries(a.wired).forEach(function(e){var e=__read(e,2),n=e[0],e=e[1];(t&&t.includes(n)||!t)&&e.current.validate(function(e,t){var r;e&&(i=Object.assign({},i,((r={})[n]=e,r))),s=Object.assign({},s,((e={})[n]=t,e))})}),"function"==typeof e&&e(i,s)},this.initialized=!1,this.initialValues={},this.store={},this.wired={}},useForm=function(e){var t=React.useRef(null);return t.current=e||new FormInstance,t.current};export{useForm};