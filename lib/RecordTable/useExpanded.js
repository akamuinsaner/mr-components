var __read=this&&this.__read||function(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,t=n.call(e),l=[];try{for(;(void 0===r||0<r--)&&!(a=t.next()).done;)l.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return l},__spreadArray=this&&this.__spreadArray||function(e,r,n){if(n||2===arguments.length)for(var a,o=0,t=r.length;o<t;o++)!a&&o in r||((a=a||Array.prototype.slice.call(r,0,o))[o]=r[o]);return e.concat(a||Array.prototype.slice.call(r))};import React from"react";import{getRowKey,getRowsFromKeys}from"./helper";export default function(e){var o=e.expandable,n=e.rowKey,t=e.data,e=__read(React.useState(null!=o&&o.defaultExpandedRowKeys?o.defaultExpandedRowKeys:null!=o&&o.defaultExpandAllRows?t.map(function(e,r){return getRowKey(e,n,r)}):[]),2),l=e[0],d=e[1];return React.useEffect(function(){null!=o&&o.expandedRowKeys&&d(null==o?void 0:o.expandedRowKeys)},[null==o?void 0:o.expandedRowKeys]),{expandedRowKeys:l,onExpandChange:function(r,e,n){var a=[],a=e?__spreadArray(__spreadArray([],__read(l),!1),[r],!1):l.filter(function(e){return e!==r});null!=o&&o.onExpandedRowsChange&&o.onExpandedRowsChange(a,getRowsFromKeys(t,a,r)),null!=o&&o.expandedRowKeys||d(a),null!=o&&o.onExpand&&e&&o.onExpand(n)}}}