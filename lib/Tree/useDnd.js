var __read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i};import React from"react";export default function(e){var t=e.dataSet,r=e.toggleExpand,n=e.onDrop,a=React.useRef(null),e=__read(React.useState(null),2),o=e[0],i=e[1],e=__read(React.useState(null),2),c=e[0],u=e[1],l=t.idTreeNodeMap;React.useEffect(function(){o&&r(l.get(o),!1)},[o]),React.useEffect(function(){var e;clearTimeout(a.current),c&&(e=l.get(c))&&e.children&&e.children.length&&setTimeout(function(){r(e,!0)},500)},[c]);return{activeId:o,overId:c,onDragStart:function(e){i(e.active.id)},onDragOver:function(e){e.over&&u(e.over.id)},onDragEnd:function(e){i(null),u(null);var t=e.over,e=e.active;t&&e.id!==t.id&&n&&n(e,t)}}}