var __read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)c.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return c};import React from"react";export default function(e){var t=e.dataSet,r=e.toggleExpand,n=e.onDrop,a=React.useRef(null),e=__read(React.useState(null),2),o=e[0],c=e[1],e=__read(React.useState(null),2),i=e[0],l=e[1],u=t.idTreeNodeMap;React.useEffect(function(){o&&r(u.get(o),!1)},[o]),React.useEffect(function(){var e;clearTimeout(a.current),i&&(e=u.get(i))&&e.children&&e.children.length&&setTimeout(function(){r(e,!0)},500)},[i]);return{activeId:o,overId:i,onDragStart:function(e){c(e.active.id)},onDragOver:function(e){e.over&&l(e.over.id)},onDragEnd:function(e){console.log(e),c(null),l(null);var t=e.over,e=e.active;t&&e.id!==t.id&&n&&n(e,t)}}}