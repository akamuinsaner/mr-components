var __read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},__values=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};import React from"react";export default function(e){var t=e.search,n=e.multiple,e=e.dataSet,l=e.idChildrenMap,r=e.flattedData,a=__read(React.useState(""),2),c=a[0],o=a[1],a=__read(React.useState(r),2),i=a[0],u=a[1];return React.useEffect(function(){t&&u(function(e){var t,r,n=[];try{for(var a=__values(l.entries()),o=a.next();!o.done;o=a.next()){var i=__read(o.value,2),u=i[0];!!i[1].find(function(e){return"".concat(e.name).includes(c)})&&n.push(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return e.filter(function(e){return n.includes(e.id)||-1<"".concat(e.name).indexOf(c)})}(r))},[c,t]),React.useEffect(function(){u(r)},[e]),{inputValue:c,onInputChange:function(e,t,r){"reset"===r&&n||o(t)},searchData:i}}